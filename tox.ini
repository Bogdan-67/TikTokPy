[tox]
envlist =
    lint
    py38
    py310
isolated_build = True

[testenv]
usedevelop = True
deps = .[test]

commands =
    playwright install
    pytest

[testenv:lint]
deps = pre-commit
commands = pre-commit run -a

[pytest]
testpaths =
    tests
asyncio_mode = auto
addopts = --durations=0 --cov --cov-report xml:cov_report.xml

[coverage:run]
branch = True
source = src
relative_files = True

[coverage:report]
show_missing = True

[flake8]
max-line-length = 121
enable-extensions = G

[isort]
atomic = true
line_length = 121
force_grid_wrap = 0
include_trailing_commas = true
lines_after_imports = 2
lines_between_types = 1
multi_line_output = 4
not_skip = __init__.py
use_parentheses = false
